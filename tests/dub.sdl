name "stl-containers-tests"
description "Tests for STL containers"
authors "Manu"
copyright "Copyright Â© 2019, Manu"
license "proprietary"
dependency "stl-containers" path="../"
targetType "executable"
mainSourceFile "source/app.d"

configuration "posix" {
  platforms "posix-x86_64" "posix-x86" "osx-x86_64"
  preBuildCommands "cd cpp && cmake . && cmake --build ."
  libs "stdc++" platform="linux"
  libs "/usr/local/opt/gcc/lib/gcc/8/libstdc++.dylib" platform="osx"
  libs "stl-containers-tests"
  dflags "$PACKAGE_DIR/cpp/libstl-containers-tests.a"
}

configuration "windows" {
  platforms "windows-x86_mscoff" "windows-x64"
  preBuildCommands "cd cpp && cmake . -G \"Visual Studio 14 2015\" && cmake --build ."
  lflags "/LIBPATH:$PACKAGE_DIR\\cpp\\Release" platform="windows"
}
